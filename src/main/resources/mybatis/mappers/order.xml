<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"../mybatis-3-mapper.dtd">

<mapper namespace="mapper.order">
    <!-- resultMap 정의 -->
    <resultMap id="ordResult" type="com.spring.FoodMate.order.dto.OrderDTO">
        <result property="ord_detail_id" column="ORD_DETAIL_ID"/>
        <result property="ord_id" column="ORD_ID"/>
        <result property="pdt_id" column="PDT_ID"/>
        <result property="pdt_name" column="PDT_NAME"/>
        <result property="pdt_price" column="PDT_PRICE"/>
        <result property="qty" column="QTY"/>
    </resultMap>

	<!-- OrdIdById 쿼리 -->
	<select id="OrdIdById" resultType="java.lang.Integer">
	    SELECT ORD_ID
	    FROM FOODMATE_ORDER
	    WHERE BYR_ID = #{id}
	</select>
	
	<!-- AllOrdByOrdIds 쿼리: resultType을 orderDTO로 수정 -->
	<select id="AllOrdByOrdIds" resultType="orderDTO">
	    SELECT * 
	    FROM FOODMATE_ORDER_DETAIL
	    WHERE ORD_ID IN
	    <foreach item="id" collection="list" open="(" separator="," close=")">
	        #{id}
	    </foreach>
	</select>
	
</mapper>
